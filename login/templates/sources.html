{% extends "base.html" %}
{% block title %}- Sources List{% endblock %}

{% block content %}
<br>

<section id="main" class="wrapper">
    <div class="inner">
        <div style="float: right;">
            <form class="alt" method="get" action="/search_source/">
                   <input type="text" id="searchBox" class="small" name="q" placeholder="Search">
                    <input type="submit" class="button small--table" value="Search" >
            </form>
        </div>

        <br>
        <div class="content">
           <div align="center">
             <section class="container">
               <div style="float: right">
                   Stories Count : {{ data|length }}
               </div>
                 {% if data %}
                        <table>
                            <tr>

                                <th>
                                    Name
                                </th>

                                <th>
                                    URL
                                </th>

                                <th >
                                    Feed
                                </th>

                                <th colspan="2" style="width: 15%;">
                                    Actions
                                </th>
                            </tr>

                            {% for value in data %}
                                <tr>
                                    <td>
                                        <label>
                                            {{ value.name }}
                                        </label>
                                    </td>

                                    <td>
                                        <label>
                                            <a href="{{ value.rss_url }}" target="_blank" >{{ value.rss_url }}</a>
                                        </label>
                                    </td>

                                    <td>
                                        <form class="alt" action="/fetch_story/" method="get">
                                               <input class="button small--table" type="hidden" name="item_id" value="{{value.id}}" />
                                               <input class="button small--table" type="submit" value="Get" />
                                        </form>
                                    </td>

                                    <td>
                                        <form class="alt" action="/edit_source/" method="get">
                                               <input class="button small--table" type="hidden" name="item_id" value="{{value.id}}" />
                                               <input class="button small--table" type="submit" value="Edit">
                                        </form>
                                    </td>

                                    <td>
                                        <form class="alt" action="/remove_source/" method="get" onsubmit="return confirm('Do you really want to Delete');">
                                               <input class="button small--table" type="hidden" name="item_id" value="{{value.id}}" />
                                               <input class="button small--table"  type="submit" value="Delete">
                                        </form>
                                    </td>
                                </tr>
                            {% endfor %}
                        </table>
                 {% else %}

                            <p> There are no Sources.</p>

                 {% endif %}

             </section>
           </div>
           <br>
        </div>
    </div>
</section>
{% endblock %}